<!DOCTYPE html>
<html>
  <head>

	<meta charset="utf-8">

	<title>Felicity . Forever Young</title>
    <link rel="stylesheet" href="sketch/example.css">
	<!-- Behavioral Meta Data -->
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<!-- Core Meta Data -->
	<meta name="author" content="Matthew Wagerfield">
	<meta name="description" content="Simple, lightweight Parallax Engine that reacts to the orientation of a smart device">
	<meta name="keywords" content="parallax,javascript,jquery,zepto,plugin">

	<!-- Open Graph Meta Data -->
	<meta property="og:description" content="Simple, lightweight Parallax Engine that reacts to the orientation of a smart device">
	<meta property="og:image" content="http://wagerfield.github.io/parallax/assets/images/thumbnail.png">
	<meta property="og:site_name" content="parallax.js">
	<meta property="og:title" content="parallax.js">
	<meta property="og:type" content="website">
	<meta property="og:url" content="http://wagerfield.github.io/parallax/index.html">

	<!-- Styles -->
	<link rel="stylesheet" type="text/css" href="assets/styles/css/styles.css"/>

	<!-- Favicon -->
	<link rel="shortcut icon" href="http://matthew.wagerfield.com/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="http://matthew.wagerfield.com/favicon.png" type="image/png">
	<link rel="shortcut icon" href="http://wagerfield.github.io/parallax/favicon.png" type="image/png">

	<!-- Apple Touch Icons -->
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="apple-touch-icon-144x144-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="apple-touch-icon-114x114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="apple-touch-icon-72x72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="57x57" href="apple-touch-icon-57x57-precomposed.png">

	<!-- Apple Startup Images -->
	<link rel="apple-touch-startup-image" href="http://matthew.wagerfield.com/parallax/apple-touch-startup-image-320x460.png" media="(device-width: 320px)">
	<link rel="apple-touch-startup-image" href="http://matthew.wagerfield.com/parallax/apple-touch-startup-image-640x920.png" media="(device-width: 320px) and (-webkit-device-pixel-ratio: 2)">
	<link rel="apple-touch-startup-image" href="http://matthew.wagerfield.com/parallax/apple-touch-startup-image-768x1004.png" media="(device-width: 768px) and (orientation: portrait)">
	<link rel="apple-touch-startup-image" href="http://matthew.wagerfield.com/parallax/apple-touch-startup-image-748x1024.png" media="(device-width: 768px) and (orientation: landscape)">
	<link rel="apple-touch-startup-image" href="http://matthew.wagerfield.com/parallax/apple-touch-startup-image-1536x2008.png" media="(device-width: 1536px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)">
	<link rel="apple-touch-startup-image" href="http://matthew.wagerfield.com/parallax/apple-touch-startup-image-2048x1496.png" media="(device-width: 1536px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)">

  </head>
  <body>
	<script src="sketch/sketch.js"></script>
	<div id="fb-root"></div>
	<div id="container" class="wrapper">
	  
	  <ul id="scene" class="scene unselectable"
		  data-friction-x="0.07"
		  data-friction-y="0.1"
		  data-scalar-x="30"
		  data-scalar-y="10">

		<li class="layer" data-depth="0.00"><div class="background" ></div></li>
		<li class="layer" data-depth="0.10"><div class="mountain"></div></li>
		<li class="layer" data-depth="0.15"><h1 class="title"><b>felicity<em>17</em></b></h1></li>

<!-- 		<li class="layer" data-depth="0.15">
		  <ul class="rope depth-10">
			<li><img src="assets/images/rope.png" alt="Rope"></li>
			<li class="hanger position-2">
			  <div class="board cloud-2 swing-1"></div>
			</li>
			<li class="hanger position-4">
			  <div class="board cloud-1 swing-3"></div>
			</li>
			<li class="hanger position-8">
			  <div class="board birds swing-5"></div>
			</li>
		  </ul>
		</li>
		<li class="layer" data-depth="0.30">
		  <ul class="rope depth-30">
			<li><img src="assets/images/rope.png" alt="Rope"></li>
			<li class="hanger position-1">
			  <div class="board cloud-1 swing-3"></div>
			</li>
			<li class="hanger position-5">
			  <div class="board cloud-4 swing-1"></div>
			</li>
		  </ul>
		</li>
 -->
		<li class="layer" data-depth="0.20"><div class="land2"></div></li>
		<li class="layer" data-depth="0.23"><div class="house"></div></li>
		<li class="layer" data-depth="0.27"><div class="land"></div></li>
		<li class="layer" data-depth="0.40"><div class="wave plain depth-40"></div></li>
		<li class="layer" data-depth="0.50"><div class="wave paint depth-50"></div></li>
		<!--li class="layer" data-depth="0.60"><div class="lighthouse depth-60"></div></li -->
		<!--li class="layer" data-depth="0.60">
		  <ul class="rope depth-60">
			<li><img src="assets/images/rope.png" alt="Rope"></li>
			<li class="hanger position-3">
			  <div class="board birds swing-5"></div>
			</li>
			<li class="hanger position-6">
			  <div class="board cloud-2 swing-2"></div>
			</li>
			<li class="hanger position-8">
			  <div class="board cloud-3 swing-4"></div>
			</li>
		  </ul>
		</li-->
		<li class="layer" data-depth="0.60"><div class="wave plain depth-60"></div></li>
		<li class="layer" data-depth="0.80"><div class="wave plain depth-80"></div></li>
		<li class="layer" data-depth="0.90"><div  class="wave paint depth-100"></div></li>
		<!-- <li class="layer" data-depth="1.00"><div id="container1" style="z-index:2"></div></li> -->

	  </ul>
	  <section id="about" class="wrapper about hide accelerate">
		<div id="container1" style="z-index:2" class="cell accelerate">
		  <div class="cables center accelerate">
			<div class="panel accelerate" >
			  <header>
				<h1>felicity<em>17</em></h1>
			  </header>
			  <p>Insert random content here</p>
			  <ul class="links">
				<li><a>Login</a></li>
				<li><a target="_blank" >Register</a></li>
			  </ul>
			</div>
		  </div>
		</div>
	  </section>
	  <button id="toggle" class="toggle i">
		<div class="cross">
		  <div class="x"></div>
		  <div class="y"></div>
		</div>
	  </button>
	  </div>
	  <!-- Scripts -->
	  <script src="assets/scripts/js/libraries.min.js"></script>
	  <script src="deploy/jquery.parallax.js"></script>
	  <script>

		// jQuery Selections
		var $html = $('html'),
		$container = $('#container'),
		$prompt = $('#prompt'),
		$toggle = $('#toggle'),
		$about = $('#about'),
		$scene = $('#scene');

		// Hide browser menu.
		(function() {
		setTimeout(function(){window.scrollTo(0,0);},0);
		})();

		// Setup FastClick.
		FastClick.attach(document.body);

		// Add touch functionality.
		if (Hammer.HAS_TOUCHEVENTS) {
		$container.hammer({drag_lock_to_axis: true});
		_.tap($html, 'a,button,[data-tap]');
		}

		// Add touch or mouse class to html element.
		$html.addClass(Hammer.HAS_TOUCHEVENTS ? 'touch' : 'mouse');

		// Resize handler.
		(resize = function() {
		$scene[0].style.width = window.innerWidth + 'px';
		$scene[0].style.height = window.innerHeight + 'px';
		if (!$prompt.hasClass('hide')) {
		if (window.innerWidth < 600) {
								$toggle.addClass('hide');
								} else {
								$toggle.removeClass('hide');
								}
								}
								})();

								// Attach window listeners.
								window.onresize = _.debounce(resize, 200);
								window.onscroll = _.debounce(resize, 200);

								function showDetails() {
								$about.removeClass('hide');
								$toggle.removeClass('i');
								}

								function hideDetails() {
								$about.addClass('hide');
								$toggle.addClass('i');
								}

								// Listen for toggle click event.
								$toggle.on('click', function(event) {
								$toggle.hasClass('i') ? showDetails() : hideDetails();
								});

								// Pretty simple huh?
								$scene.parallax();

								// Check for orientation support.
								setTimeout(function() {
								if ($scene.data('mode') === 'cursor') {
								$prompt.removeClass('hide');
								if (window.innerWidth < 600) $toggle.addClass('hide');
														$prompt.on('click', function(event) {
														$prompt.addClass('hide');
														if (window.innerWidth < 600) {
																				setTimeout(function() {
																				$toggle.removeClass('hide');
																				},1200);
																				}
																				});
																				}
																				},1000);

																				// Twitter stuff.
																				!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');

																				// Facebook stuff.
																				(function(d, s, id) {
																				var js, fjs = d.getElementsByTagName(s)[0];
																				if (d.getElementById(id)) return;
																				js = d.createElement(s); js.id = id;
																				js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=709933052350821";
																				fjs.parentNode.insertBefore(js, fjs);
																				}(document, 'script', 'facebook-jssdk'));
																				</script>

		<script>
        // ----------------------------------------
        // Particle
        // ----------------------------------------

        function Particle( x, y, radius ) {
            this.init( x, y, radius );
        }

        Particle.prototype = {

            init: function( x, y, radius ) {

                this.alive = true;

                this.radius = radius || 10;
                this.wander = 0.15;
                this.theta = random( TWO_PI );
                this.drag = 0.92;
                this.color = '#fff';

                this.x = x || 0.0;
                this.y = y || 0.0;

                this.vx = 0.0;
                this.vy = 0.0;
            },

            move: function() {

                this.x += this.vx;
                this.y += this.vy;

                this.vx *= this.drag;
                this.vy *= this.drag;

                this.theta += random( -0.5, 0.5 ) * this.wander;
                this.vx += sin( this.theta ) * 0.1;
                this.vy += cos( this.theta ) * 0.1;

                this.radius *= 0.96;
                this.alive = this.radius > 0.5;
            },

            draw: function( ctx ) {

                ctx.beginPath();
                ctx.arc( this.x, this.y, this.radius, 0, TWO_PI );
                ctx.fillStyle = this.color;
                ctx.fill();
            }
        };

       

        var MAX_PARTICLES = 200;
        var COLOURS = [ '#69D2E7', '#A7DBD8', '#E0E4CC', '#F38630', '#FA6900', '#FF4E50', '#F9D423' ]; // Add or change color particles here.

        var particles = [];
        var pool = [];

        var demo = Sketch.create({
            container: document.getElementById( 'container1' )
        });

        demo.setup = function() {

            var i, x, y;

            for ( i = 0; i < 20; i++ ) {
                x = ( demo.width * 0.5 ) + random( -100, 100 );
                y = ( demo.height * 0.5 ) + random( -100, 100 );
                demo.spawn( x, y );
            }
        };

        demo.spawn = function( x, y ) {

            if ( particles.length >= MAX_PARTICLES )
                pool.push( particles.shift() );

            particle = pool.length ? pool.pop() : new Particle();
            particle.init( x, y, random( 5, 14 ) );

            particle.wander = random( 0.5, 3.0 );
            particle.color = random( COLOURS );
            particle.drag = random( 0.8, 0.99 );

            theta = random( TWO_PI );
            force = random( 2, 8 );

            particle.vx = sin( theta ) * force;
            particle.vy = cos( theta ) * force;

            particles.push( particle );
        };

        demo.update = function() {

            var i, particle;

            for ( i = particles.length - 1; i >= 0; i-- ) {

                particle = particles[i];

                if ( particle.alive ) particle.move();
                else pool.push( particles.splice( i, 1 )[0] );
            }
        };

        demo.draw = function() {

            demo.globalCompositeOperation  = 'lighter';

            for ( var i = particles.length - 1; i >= 0; i-- ) {
                particles[i].draw( demo );
            }
        };

        demo.mousemove = function() {

            var particle, theta, force, touch, max, i, j, n;

            for ( i = 0, n = demo.touches.length; i < n; i++ ) {

                touch = demo.touches[i], max = random( 1, 4 );
                for ( j = 0; j < max; j++ ) {
                  demo.spawn( touch.x, touch.y );
                }

            }
        };
        
        </script>

  </body>
</html>
